[
    {
        "query_id": "query0",
        "query_type": "comorbidity-drug-safety",
        "query_template": "MATCH (dis1:Disease {name: \"{disease_A}\"})<-[:indication]-(d:Drug)-[:contraindication]->(dis2:Disease {name: \"{disease_B}\"}) RETURN d.name AS DrugName",
        "query_parameters": {
            "disease_A": "目标治疗疾病名称",
            "disease_B": "禁忌疾病名称"
        },
        "nl": "查找治疗 [疾病A] 但对 [疾病B] 禁用的药物（共病用药安全性筛查）",
        "example": {
            "disease_A": "Hypertension",
            "disease_B": "Asthma"
        }
    },
    {
        "query_id": "query1",
        "query_type": "disease-phenotype-overlap",
        "query_template": "MATCH (dis1:Disease {name: \"{disease_A}\"})-[:phenotype present]->(ph:Phenotype)<-[:phenotype present]-(dis2:Disease {name: \"{disease_B}\"}) RETURN ph.name AS SharedPhenotype",
        "query_parameters": {
            "disease_A": "疾病A名称",
            "disease_B": "疾病B名称"
        },
        "nl": "查找 [疾病A] 和 [疾病B] 之间共有的表型/症状（疾病间的表型重叠，用于鉴别诊断）",
        "example": {
            "disease_A": "Autism",
            "disease_B": "Fragile X syndrome"
        }
    },
    {
        "query_id": "query2",
        "query_type": "exposure-protein-phenotype",
        "query_template": "MATCH (e:Exposure {name:\"{exposure_name}\"})-[:EXPOSURE_PROTEIN]-(p:Protein)-[:PHENOTYPE_PROTEIN]-(ph:Phenotype {name:\"{phenotype_name}\"}) RETURN DISTINCT p",
        "query_parameters": {
            "exposure_name": "暴露因素名称",
            "phenotype_name": "表型名称"
        },
        "nl": "Identify proteins mediating the effect of exposure '{exposure_name}' on phenotype '{phenotype_name}'.",
        "example": {
            "exposure_name": "Smoking",
            "phenotype_name": "Lung inflammation"
        }
    },
    {
        "query_id": "query3",
        "query_type": "disease-drug-shared-bioprocess",
        "query_template": "MATCH (d:Disease {name:\"{disease_name}\"})-[:DISEASE_PROTEIN]-(p1:Protein)-[:BIOPROCESS_PROTEIN]-(bp:BiologicalProcess) MATCH (dr:Drug {name:\"{drug_name}\"})-[:DRUG_PROTEIN]-(p2:Protein)-[:BIOPROCESS_PROTEIN]-(bp) RETURN DISTINCT bp",
        "query_parameters": {
            "disease_name": "疾病名称",
            "drug_name": "药物名称"
        },
        "nl": "Identify biological processes jointly affected by disease '{disease_name}' and drug '{drug_name}'.",
        "example": {
            "disease_name": "Diabetes",
            "drug_name": "Metformin"
        }
    },
    {
        "template_id": "T003",
        "domain": "Mechanism Analysis",
        "nl_template": "Find all biological pathways that involve proteins associated with both {disease_name} and {drug_name}.",
        "cypher_template": "MATCH (d:Disease {name: $disease_name})-[:DISEASE_PROTEIN]-(p:Protein)-[:DRUG_PROTEIN]-(drug:Drug {name: $drug_name}) MATCH (p)-[:PATHWAY_PROTEIN]-(path:Pathway) RETURN path.name AS pathway_name, COUNT(DISTINCT p) AS protein_count ORDER BY protein_count DESC",
        "parameters": {
          "disease_name": {
            "type": "string",
            "source": "Disease"
          },
          "drug_name": {
            "type": "string",
            "source": "Drug"
          }
        },
        "expected_columns": ["pathway_name", "protein_count"]
      },
      {
        "query_id": "query6",
        "query_type": "generic-3hop-path-discovery",
        "query_template": "MATCH (a:{start_label} {name: \"{start_name}\"}) MATCH (b:{end_label} {name: \"{end_name}\"}) MATCH p = (a)-[:{rel_1}]-()-[:{rel_2}]-()-[:{rel_3}]-(b) RETURN p LIMIT 20",
        "query_parameters": {
            "start_label": "起始实体标签",
            "start_name": "起始实体名称",
            "end_label": "终止实体标签",
            "end_name": "终止实体名称",
            "rel_1": "第一个关系类型",
            "rel_2": "第二个关系类型",
            "rel_3": "第三个关系类型"
        },
        "nl": "查找从 [起始实体] 到 [终止实体] 之间，严格遵循 [关系1] -> [关系2] -> [关系3] 模式的路径（通用路径发现，用于验证特定假设路径）",
        "example": {
            "start_label": "drug",
            "start_name": "Metformin",
            "end_label": "disease",
            "end_name": "Diabetes Mellitus",
            "rel_1": "drug_protein",
            "rel_2": "protein_pathway",
            "rel_3": "pathway_disease"
        },
        "note": "在实际代码中，Label和Relationship Type通常不能直接作为参数传递，需要使用字符串拼接方式构建查询，或者使用 APOC 库"
    },
    {
        "template_id": "T037",
        "query_type": "Four-Hop Drug Mechanism",
        "nl": "Find biological pathways connecting {drug_name} to {disease_name} through proteins and molecular functions.",
        "query_template": "MATCH (drug:Drug {name: $drug_name})-[:DRUG_PROTEIN]-(p1:Protein)-[:MOLFUNC_PROTEIN]-(mf:MolecularFunction)-[:MOLFUNC_PROTEIN]-(p2:Protein)-[:DISEASE_PROTEIN]-(d:Disease {name: $disease_name}) MATCH (p1)-[:PATHWAY_PROTEIN]-(path:Pathway)-[:PATHWAY_PROTEIN]-(p2) RETURN path.name AS connecting_pathway, COUNT(DISTINCT p1) AS proteins_from_drug, COUNT(DISTINCT p2) AS proteins_to_disease ORDER BY proteins_from_drug DESC",
        "query_parameters": {
          "drug_name": {
            "type": "string",
            "source": "Drug"
          },
          "disease_name": {
            "type": "string",
            "source": "Disease"
          }
        },
        "expected_columns": ["connecting_pathway", "proteins_from_drug", "proteins_to_disease"]
      },
      {
        "template_id": "T024",
        "query_type": "Multi-Modal Query",
        "nl": "Find drugs that target proteins expressed in {anatomy_name} and are indicated for diseases with phenotype {phenotype_name}.",
        "query_template": "MATCH (a:Anatomy {name: $anatomy_name})-[:ANATOMY_PROTEIN_PRESENT]-(p:Protein)-[:DRUG_PROTEIN]-(drug:Drug) MATCH (drug)-[:INDICATION]-(d:Disease)-[:DISEASE_PHENOTYPE_POSITIVE]-(pheno:Phenotype {name: $phenotype_name}) RETURN drug.name AS drug_name, d.name AS disease_name, COUNT(DISTINCT p) AS target_count ORDER BY target_count DESC",
        "query_parameters": {
          "anatomy_name": {
            "type": "string",
            "source": "Anatomy"
          },
          "phenotype_name": {
            "type": "string",
            "source": "Phenotype"
          }
        },
        "expected_columns": ["drug_name", "disease_name", "target_count"]
      },
      {
        "template_id": "T017",
        "query_type": "Biological Process Analysis",
        "nl": "Find biological processes that involve proteins associated with both {disease1_name} and {disease2_name}.",
        "query_template": "MATCH (d1:Disease {name: $disease1_name})-[:DISEASE_PROTEIN]-(p:Protein)-[:DISEASE_PROTEIN]-(d2:Disease {name: $disease2_name}) WHERE d1 <> d2 MATCH (p)-[:BIOPROCESS_PROTEIN]-(bp:BiologicalProcess) RETURN bp.name AS biological_process, COUNT(DISTINCT p) AS shared_proteins ORDER BY shared_proteins DESC",
        "query_parameters": {
          "disease1_name": {
            "type": "string",
            "source": "Disease"
          },
          "disease2_name": {
            "type": "string",
            "source": "Disease"
          }
        },
        "expected_columns": ["biological_process", "shared_proteins"]
      },
      {
        "template_id": "T052",
        "query_type": "Phenotype-Drug-Anatomy",
        "nl": "Find drugs that target proteins expressed in {anatomy_name} and are associated with diseases having phenotype {phenotype_name}.",
        "query_template": "MATCH (a:Anatomy {name: $anatomy_name})-[:ANATOMY_PROTEIN_PRESENT]-(p:Protein)-[:DRUG_PROTEIN]-(drug:Drug) MATCH (drug)-[:INDICATION]-(d:Disease)-[:DISEASE_PHENOTYPE_POSITIVE]-(pheno:Phenotype {name: $phenotype_name}) RETURN drug.name AS drug_name, d.name AS disease_name, COUNT(DISTINCT p) AS target_count ORDER BY target_count DESC",
        "query_parameters": {
          "anatomy_name": {
            "type": "string",
            "source": "Anatomy"
          },
          "phenotype_name": {
            "type": "string",
            "source": "Phenotype"
          }
        },
        "expected_columns": ["drug_name", "disease_name", "target_count"]
      }
]